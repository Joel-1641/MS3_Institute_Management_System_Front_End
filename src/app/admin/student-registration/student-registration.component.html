<!-- Modal -->
<div
  class="modal fade"
  id="studentModal"
  tabindex="-1"
  aria-labelledby="studentModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="studentModalLabel">Register New Student</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>

      <!-- Form -->
      <form [formGroup]="studentForm" (ngSubmit)="onSubmit()">
        <div class="modal-body">
          <!-- Full Name -->
          <div class="mb-3">
            <label for="fullName" class="form-label">Full Name</label>
            <input
              type="text"
              id="fullName"
              class="form-control"
              formControlName="fullName"
              placeholder="Enter full name"
            />
            <div *ngIf="studentForm.get('fullName')?.invalid && studentForm.get('fullName')?.touched" class="text-danger">
              Full Name is required (min 3 characters).
            </div>
          </div>

          <!-- Email -->
          <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input
              type="email"
              id="email"
              class="form-control"
              formControlName="email"
              placeholder="Enter email"
            />
            <div *ngIf="studentForm.get('email')?.invalid && studentForm.get('email')?.touched" class="text-danger">
              A valid email is required.
            </div>
          </div>

          <!-- Password -->
          <div class="mb-3">
            <label for="password" class="form-label">Password</label>
            <input
              type="password"
              id="password"
              class="form-control"
              formControlName="password"
              placeholder="Enter password"
            />
            <div *ngIf="studentForm.get('password')?.invalid && studentForm.get('password')?.touched" class="text-danger">
              Password is required (min 6 characters).
            </div>
          </div>

          <!-- NIC Number -->
          <div class="mb-3">
            <label for="nicNumber" class="form-label">NIC Number</label>
            <input
              type="text"
              id="nicNumber"
              class="form-control"
              formControlName="nicNumber"
              placeholder="Enter NIC Number (12 digits + V/v/X/x)"
            />
            <div *ngIf="studentForm.get('nicNumber')?.invalid && studentForm.get('nicNumber')?.touched" class="text-danger">
              NIC Number must be 12 digits followed by V/v or X/x.
            </div>
          </div>

          <!-- Address -->
          <div class="mb-3">
            <label for="address" class="form-label">Address</label>
            <textarea
              id="address"
              class="form-control"
              formControlName="address"
              rows="3"
              placeholder="Enter address"
            ></textarea>
            <div *ngIf="studentForm.get('address')?.invalid && studentForm.get('address')?.touched" class="text-danger">
              Address is required (min 5 characters).
            </div>
          </div>

          <!-- Mobile Number -->
          <div class="mb-3">
            <label for="mobileNumber" class="form-label">Mobile Number</label>
            <input
              type="tel"
              id="mobileNumber"
              class="form-control"
              formControlName="mobileNumber"
              placeholder="e.g., 123456789 (9 digits, no leading 0)"
            />
            <div *ngIf="studentForm.get('mobileNumber')?.invalid && studentForm.get('mobileNumber')?.touched" class="text-danger">
              Mobile Number must be 9 digits, not starting with 0.
            </div>
          </div>

          <!-- Profile Picture -->
          <div class="mb-3">
            <label for="profilePicture" class="form-label">Profile Picture</label>
            <input
              type="file"
              id="profilePicture"
              class="form-control"
              formControlName="profilePicture"
            />
          </div>

          <!-- Registration Fee -->
          <div class="mb-3">
            <label for="registrationFee" class="form-label">Registration Fee</label>
            <input
              type="number"
              id="registrationFee"
              class="form-control"
              formControlName="registrationFee"
              placeholder="Enter registration fee"
            />
            <div *ngIf="studentForm.get('registrationFee')?.invalid && studentForm.get('registrationFee')?.touched" class="text-danger">
              Registration Fee is required.
            </div>
          </div>

          <!-- Is Registration Fee Paid -->
          <div class="form-check">
            <input
              type="checkbox"
              id="isRegistrationFeePaid"
              class="form-check-input"
              formControlName="isRegistrationFeePaid"
            />
            <label class="form-check-label" for="isRegistrationFeePaid">
              Registration Fee Paid
            </label>
          </div>
        </div>

        
        <!-- Modal Footer with Button -->
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <!-- Disable the button when the form is invalid -->
            <button type="submit" class="btn btn-primary" [disabled]="studentForm.invalid">Register</button>
          </div>
      </form>
    </div>
  </div>
</div>
