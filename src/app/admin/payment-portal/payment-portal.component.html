<div
  #addStudentModal
  class="modal fade"
  id="staticBackdrop"
  tabindex="-1"
  aria-labelledby="staticBackdropLabel"
  data-bs-backdrop="static"
  data-bs-keyboard="false"
  aria-hidden="true"
>
  <div class="modal-dialog modal-lg" (click)="onModalClick($event)">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">
          {{ isEditMode ? "Update Student" : "Register Student" }}
        </h2>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
          (click)="onClose()"
        ></button>
      </div>

      <!-- Form -->
      <form [formGroup]="paymentForm" (ngSubmit)="onSubmit()">
        <div class="modal-body bg-light">
          <div class="row">
            <!-- Full Name -->
            <div class="col-md-6 mb-3">
              <label for="fullName" class="form-label fw-bold">Full Name</label>
              <input
                type="text"
                id="fullName"
                class="form-control"
                formControlName="fullName"
                placeholder="Enter full name"
              />
              <div
                *ngIf="
                  paymentForm.get('fullName')?.invalid &&
                  paymentForm.get('fullName')?.touched
                "
                class="text-danger mt-1"
              >
                Full Name is required (min 3 characters).
              </div>
            </div>

            <!-- Registration Fee -->
            <div class="col-md-6 mb-3">
              <label for="registrationFee" class="form-label fw-bold"
                >Registration Fee</label
              >
              <input
                type="number"
                id="payment"
                class="form-control"
                formControlName="registrationFee"
                placeholder="Enter registration fee"
              />
              <div
                *ngIf="
                  paymentForm.get('registrationFee')?.invalid &&
                  paymentForm.get('registrationFee')?.touched
                "
                class="text-danger mt-1"
              >
                Registration Fee is required (must be a positive number).
              </div>
            </div>
          </div>
        </div>

        <div
          *ngIf="
            paymentForm.get('isRegistrationFeePaid')?.invalid &&
            paymentForm.get('isRegistrationFeePaid')?.touched
          "
          class="text-danger mt-2"
        >
          <small
            ><i class="bi bi-exclamation-circle-fill me-1"></i> You must have
            paid the registration fee.</small
          >
        </div>

        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
            (click)="onClose()"
          >
            Close
          </button>
          <button
            type="submit"
            class="btn btn-primary"
            [disabled]="paymentForm.invalid"
          >
            Pay
          </button>
        </div>
      </form>
    </div>

    <div *ngIf="!paymentForm">
      <p>Loading...</p>
    </div>
  </div>
</div>
